{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Loader/Loader.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/IdleMessage/IdleMessage.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.module.css","Components/NotFound/NotFound.module.css","Components/Button/Button.module.css","Components/Container/Container.js","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","services/apiService.js","Components/Loader/Loader.js","Components/IdleMessage/IdleMessage.js","Components/NotFound/NotFound.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","container","Searchbar","onSubmit","useState","value","setValue","searchbar","form","e","preventDefault","trim","toLowerCase","input","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","button","protoType","PropTypes","func","Modal","closeModal","useEffect","document","addEventListener","escFunction","removeEventListener","keyCode","createPortal","backdrop","onClick","target","nodeName","window","getElementById","ImageGalleryItem","array","showModal","setshowModal","openModal","dataset","set","map","element","card","image","src","webformatURL","alt","id","largeImageURL","bigimg","PictureAPIServise","this","pageNumber","inputValue","total","amount","image_type","orientation","per_page","key","BASE_URL","fetch","then","response","json","result","totalHits","hits","length","catch","error","console","warn","newInputValue","Loader","loader","circle","IdleMessage","message","href","link","NotFound","string","Button","addImages","newRequestAPI","RequestAPI","ImageGallery","searchValue","images","setImages","status","setStatus","resetPage","getData","err","gallery","finally","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","App","setSearchValue","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9173bba9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3UcKv\",\"form\":\"Searchbar_form__3P57z\",\"input\":\"Searchbar_input__30WGQ\",\"button\":\"Searchbar_button__3xjQf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2JKhS\",\"circle\":\"Loader_circle__VBIZL\",\"hop\":\"Loader_hop__obeSO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ImageGalleryItem_card__2wryb\",\"image\":\"ImageGalleryItem_image__2UNtU\",\"stats\":\"ImageGalleryItem_stats__2c3I4\",\"item\":\"ImageGalleryItem_item__3dAih\",\"icons\":\"ImageGalleryItem_icons__wKlL4\",\"bigimg\":\"ImageGalleryItem_bigimg__9xR5o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1NWgg\",\"window\":\"Modal_window__3pr2C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"IdleMessage_message__3LBId\",\"link\":\"IdleMessage_link__3_CFi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2CC7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__15pUq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"NotFound_message__1JSD_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3X1Aw\"};","import s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const handleChange = e => {\n    setValue(e.currentTarget.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(value.trim().toLowerCase());\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <input\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images...\"\n          onChange={handleChange}\n          value={value}\n        />\n\n        <button type=\"submit\" className={s.button}>\n          <ImSearch />\n        </button>\n      </form>\n    </header>\n  );\n}\n\nSearchbar.protoType = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nfunction Modal({ closeModal, children }) {\n  useEffect(() => {\n    document.addEventListener('keydown', escFunction, false);\n\n    // returned function will be called on component unmount\n    return () => {\n      document.removeEventListener('keydown', escFunction, false);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const escFunction = e => {\n    if (e.keyCode === 27) {\n      closeModal();\n    }\n  };\n\n  return createPortal(\n    <div\n      className={s.backdrop}\n      onClick={e => {\n        if (e.target.nodeName === 'IMG') {\n          return;\n        }\n\n        closeModal();\n      }}\n    >\n      <div className={s.window}>{children}</div>\n    </div>,\n    document.getElementById('modal-root'),\n  );\n}\n\nModal.protoType = {\n  closeModal: PropTypes.func,\n};\n\nexport default Modal;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ array }) {\n  const [showModal, setshowModal] = useState(false);\n\n  const openModal = e => {\n    setshowModal(e.target.dataset.set);\n  };\n\n  const closeModal = () => {\n    setshowModal(false);\n  };\n\n  return (\n    <>\n      {array.map(element => {\n        return (\n          <li className={s.card} key={element.id}>\n            <img\n              onClick={openModal}\n              className={s.image}\n              src={element.webformatURL}\n              alt={element.id}\n              data-set={element.largeImageURL}\n            />\n            {/* <div className={s.stats}>\n                <p className={s.item}>\n                  <i className={s.icons}>thumb_up</i>\n                  {element.likes}\n                </p>\n                <p className={s.item}>\n                  <i className={s.icons}>visibility</i>\n                  {element.views}\n                </p>\n                <p className={s.item}>\n                  <i className={s.icons}>comment</i>\n                  {element.comments}\n                </p>\n                <p className={s.item}>\n                  <i className={s.icons}>cloud_download</i>\n                  {element.downloads}\n                </p>\n              </div> */}\n          </li>\n        );\n      })}\n      {showModal && (\n        <Modal closeModal={closeModal}>\n          <img src={showModal} alt=\"modal_picture\" className={s.bigimg} />\n        </Modal>\n      )}\n    </>\n  );\n}\n\nImageGalleryItem.protoType = {\n  array: PropTypes.array,\n};\n\nexport default ImageGalleryItem;\n","export default class PictureAPIServise {\n  constructor() {\n    this.pageNumber = 1;\n    this.inputValue = '';\n    this.total = 0;\n    this.amount = 0;\n  }\n\n  getData() {\n    const { baseURL, image_type, orientation, per_page, key } = {\n      baseURL: 'https://pixabay.com/api/',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      per_page: '12',\n      key: '22892994-722ced5920981906a643cad7c',\n    };\n\n    const BASE_URL = `${baseURL}?image_type=${image_type}&orientation=${orientation}&q=${this.inputValue}&page=${this.pageNumber}&per_page=${per_page}&key=${key}`;\n\n    return fetch(BASE_URL)\n      .then(response => response.json())\n      .then(result => {\n        this.pageNumber += 1;\n        this.total = result.totalHits;\n        this.amount += result.hits.length;\n\n        return result;\n      })\n      .catch(error => console.warn(error));\n  }\n\n  resetPage() {\n    this.pageNumber = 1;\n  }\n\n  resetAmount() {\n    this.amount = 0;\n  }\n\n  get value() {\n    return this.inputValue;\n  }\n\n  set value(newInputValue) {\n    this.inputValue = newInputValue;\n  }\n}\n","import s from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={s.loader}>\n      <div className={s.circle}></div>\n      <div className={s.circle}></div>\n      <div className={s.circle}></div>\n    </div>\n  );\n}\n\nexport default Loader;\n","import s from './IdleMessage.module.css';\n\nfunction IdleMessage() {\n  return (\n    <>\n      <span className={s.message}>Start your search</span>\n      <a\n        href=\"https://alexanderkorobchenko.github.io/my-project_Image-search-engine/\"\n        className={s.link}\n      >\n        This project in VanillaJS\n      </a>\n    </>\n  );\n}\n\nexport default IdleMessage;\n","import PropTypes from 'prop-types';\nimport s from './NotFound.module.css';\n\nfunction NotFound({ value }) {\n  return <span className={s.message}>Not found \"{value}\"</span>;\n}\n\nNotFound.protoType = {\n  value: PropTypes.string,\n};\n\nexport default NotFound;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ addImages }) {\n  return (\n    <button type=\"button\" className={s.button} onClick={() => addImages()}>\n      Load more\n    </button>\n  );\n}\n\nButton.protoType = {\n  addImages: PropTypes.func,\n};\n\nexport default Button;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport RequestAPI from '../../services/apiService';\nimport Loader from '../Loader';\nimport IdleMessage from '../IdleMessage/';\nimport NotFound from '../NotFound';\nimport Button from '../Button';\nimport s from './ImageGallery.module.css';\n\nconst newRequestAPI = new RequestAPI();\n\nfunction ImageGallery({ searchValue }) {\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    if (searchValue === '') {\n      return;\n    }\n\n    setStatus('pending');\n\n    newRequestAPI.value = searchValue;\n    newRequestAPI.resetPage();\n    newRequestAPI\n      .getData()\n      .then(result => {\n        if (result.hits.length !== 0) {\n          setImages(result.hits);\n          setStatus('resolved');\n          return;\n        }\n\n        setImages(result.hits);\n        setStatus('rejected');\n        return result;\n      })\n      .catch(err => console.warn(err));\n  }, [searchValue]);\n\n  const addImages = () => {\n    setStatus('pending');\n\n    newRequestAPI\n      .getData()\n      .then(result => {\n        setImages([...images, ...result.hits]);\n        setStatus('resolved');\n        return result;\n      })\n      .catch(err => console.warn(err))\n      .finally(() => {\n        setTimeout(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }, 400);\n      });\n  };\n\n  if (status === 'idle') {\n    return <IdleMessage />;\n  }\n\n  if (status === 'pending') {\n    return (\n      <>\n        <ul className={s.gallery}>\n          <ImageGalleryItem array={images} />\n        </ul>\n        <Loader />;\n      </>\n    );\n  }\n\n  if (status === 'rejected') {\n    return <NotFound value={searchValue} />;\n  }\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <ul className={s.gallery}>\n          <ImageGalleryItem array={images} />\n        </ul>\n        <Button addImages={addImages} />\n      </>\n    );\n  }\n}\n\nImageGallery.protoType = {\n  searchValue: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import { useState } from 'react';\nimport Container from './Components/Container';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\n\nfunction App() {\n  const [searchValue, setSearchValue] = useState('');\n\n  const changeSearchValue = value => {\n    setSearchValue(value);\n  };\n\n  return (\n    <Container>\n      <Searchbar onSubmit={changeSearchValue} />\n      <ImageGallery searchValue={searchValue} />\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}